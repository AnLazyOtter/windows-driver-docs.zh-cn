---
title: 最终用户输入/输出请求和文件对象
description: 最终用户输入/输出请求和文件对象
ms.assetid: 69524f41-32c4-4a62-b666-6eb2e4657877
keywords:
- Irp WDK 内核，最终用户输入/输出请求
- 最终用户 I/O 请求 WDK 内核
- I/O 请求 WDK 内核
- 命名的文件对象 WDK 内核
- 文件对象 WDK 内核
- 受保护的子系统 WDK 内核
- 子系统 I/O 请求 WDK 内核
- 用户 I/O 请求 WDK 内核
ms.date: 06/16/2017
ms.localizationpriority: medium
ms.openlocfilehash: a8e78ee9f48b68b9d534f74192130277c3535989
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/31/2019
ms.locfileid: "56569212"
---
# <a name="end-user-io-requests-and-file-objects"></a>最终用户输入/输出请求和文件对象





内核模式驱动程序是隐藏来自最终用户的受保护的实现已熟悉的编程接口，如 Windows 或 POSIX 子系统。 设备是对用户模式代码，其中包括受保护的子系统，仅作为由 I/O 管理器控制的命名的文件对象可见。

下图说明了此最终用户、 子系统与 I/O 管理器之间的关系。

![说明表示文件、 卷和设备的文件对象的关系图](images/2grsover.png)

受保护的子系统，例如 Win32 子系统中，将输入/输出请求传递给适当的内核模式驱动程序通过 I/O 系统服务。 在上图中所示的子系统取决于显示、 视频适配器、 键盘和鼠标的设备驱动程序的支持。

受保护的子系统隔离其最终用户和应用程序无需知道有关内核模式组件，包括驱动程序的任何信息。 反过来，I/O 管理器使受保护的子系统，无需知道任何有关特定于计算机的设备配置或有关驱动程序的实现。

I/O 管理器的分层的方法还可隔离大多数驱动程序不必知道任何有关以下内容：

-   I/O 请求是否源自于任何特定受保护的子系统，例如 Win32 或 POSIX

-   给定的受保护的子系统是否具有特定类型的用户模式驱动程序

-   哪些任何受保护的子系统的 I/O 模型并对驱动程序接口是

I/O 管理器提供了具有单个的 I/O 模型的一组内核模式驱动程序可用于执行 I/O 操作和一致的接口之间的 I/O 请求的发起方必须对其做出响应的驱动程序的支持例程的驱动程序。

上图中所示，一个子系统和其本机应用程序可以访问驱动程序的设备或大容量存储设备上的文件只能通过文件 I/O 管理器提供的对象句柄。 若要打开文件对象，或获取句柄的 I/O 设备或数据文件，一个子系统调用带有请求打开一个命名的文件的 I/O 系统服务。 命名的文件可以为文件对象的内核模式名称的特定于子系统的别名 （符号链接）。

I/O 管理器，它将导出这些系统服务，然后是负责查找或创建该文件对象表示的设备或数据文件，并查找相应的驱动程序。

 

 




