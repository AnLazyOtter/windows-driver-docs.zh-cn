---
title: 基于对象
description: 基于对象
ms.assetid: 53024912-5e6e-4738-81b5-dacc59c22c3f
keywords:
- 基于对象的驱动程序 WDK 内核
- 对象不透明度 WDK 内核
- 不透明度 WDK 内核
ms.date: 06/16/2017
ms.localizationpriority: medium
ms.openlocfilehash: 623c0cc359821d26878b645e516c2243b46043b0
ms.sourcegitcommit: fb7d95c7a5d47860918cd3602efdd33b69dcf2da
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/25/2019
ms.locfileid: "67365436"
---
# <a name="object-based"></a>基于对象





基于 Microsoft Windows NT 的操作系统是基于对象的。 在高级管理人员的各种组件定义一个或多个对象类型。 每个组件会导出操作其对象类型的实例的内核模式下支持例程。 组件不可以直接访问另一组件的对象。 若要使用另一组件的对象，组件必须调用导出的支持例程。

此设计允许操作系统为可移植且灵活。 例如，就可以在未来版本的操作系统包含一个重新进行编码的内核组件，用于定义相同的对象类型，但具有完全不同的内部结构。 如果此假设记录的版本的内核将导出的一组作为现有组具有相同的名称和参数的支持例程，内部更改现有系统中必须不会影响任何其他执行组件的可移植性。

同样，为了保持可移植且可配置，驱动程序必须与操作系统和通信相互使用仅支持例程和其他在 WDK 中描述的接口。

操作系统，如驱动程序也是基于对象的。 例如：

-   *文件对象*代表到设备的用户模式应用程序的连接。

-   *设备对象*表示每个驱动程序的逻辑、 虚拟或物理设备。

-   *驱动程序对象*表示每个驱动程序加载图像。

I/O 管理器定义的结构和文件的对象、 设备对象和驱动程序对象的接口。

任何其他执行组件时，驱动程序通过调用 I/O 管理器和其他系统组件导出的支持例程的内核模式下使用对象。 内核模式下支持例程通常具有用于标识每个例程处理的特定对象和每个例程在该对象执行的操作的名称。 这些支持例程名称采用以下形式：

*PrefixOperationObject*

（其中

*前缀*标识导出支持例程的内核模式组件和通常情况下，定义的对象类型的组件。 大多数前缀有两个字母。

*操作*介绍了对对象执行哪些操作。

*对象*标识的对象的类型。

例如，I/O 管理器的[ **IoCreateDevice** ](https://docs.microsoft.com/windows-hardware/drivers/ddi/content/wdm/nf-wdm-iocreatedevice)例程创建了一个设备对象来表示物理、 逻辑，或虚拟设备为目标的输入/输出请求。

一个系统组件可以导出调用另一个组件的支持例程的例程。 这可以减少驱动程序必须进行的调用数。 I/O 管理器中，特别是，导出某些例程，使其更易于开发驱动程序。 例如， **IoConnectInterruptEx**，调用内核的支持例程*中断对象*。

### <a href="" id="ddk-object-opacity-kg"></a>对象不透明度

一些系统定义的对象很*不透明*： 仅定义的系统组件是知道此类对象的内部结构，可以直接访问的所有对象包含的数据。 定义一个不透明的对象的系统组件导出驱动程序和其他内核模式组件可以调用来操作该对象的支持例程。 驱动程序永远不会直接访问不透明对象的结构。

**请注意**  维护驱动程序可移植性，驱动程序必须使用系统提供支持例程来处理系统定义的对象。 定义的系统组件可以在任何时候更改其对象类型的内部结构。

 

 

 




