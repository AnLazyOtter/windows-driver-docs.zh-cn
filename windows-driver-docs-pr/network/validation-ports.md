---
title: 验证端口
description: 验证端口
ms.assetid: 67556275-EF02-4996-A3A2-E9D5D6FCD1AF
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: a8e2f92effdb6bb1c7d7ae06ac26781ea53e4d34
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/31/2019
ms.locfileid: "56577521"
---
# <a name="validation-ports"></a>验证端口


从 Windows Server 2012 中的 NDIS 6.30 开始，可扩展交换机接口用于创建托管的可扩展交换机的网络适配器连接的操作端口。 某些情况下，可扩展交换机接口之前创建的 HYPER-V 子分区的操作端口创建验证端口。 验证端口用于验证和验证操作将连接到的子分区，可扩展交换机的虚拟机 (VM) 网络适配器的端口设置。

**请注意**  HYPER-V 中，子分区也称为是 VM。

 

在以下情况下创建此验证端口：

-   首次创建 VM。 后虚拟机开机，删除验证端口，并在其原位置创建操作的端口。

-   VM 会进入已保存的状态。 还原 VM，并将其通电，删除验证端口并在其原位置创建操作的端口。

    有关详细信息，请参阅[HYPER-V 可扩展交换机保存和还原操作](hyper-v-extensible-switch-save-and-restore-operations.md)。

-   VM 已停止，并关闭电源。 后虚拟机开机，删除验证端口，并在其原位置创建操作的端口。

-   VM 正在进行实时迁移到另一台主机计算机。 一旦创建 VM 并将其在新的主计算机上提供支持，删除验证端口和在其原位置创建操作的端口。

创建验证端口后，可扩展交换机接口发出 OID 请求，以下载该端口的端口策略。 因为这些端口创建的策略验证和验证，如第一次配置 VM 时，很重要，是适用于配置的时间而不是运行的时所执行的验证。 扩展对这些端口应执行以下类型的策略验证：

-   语法验证。 如果值格式不正确的设置，此验证将失败。

-   范围验证。 如果设置不符合最小和最大值的预期范围，此验证将失败。

-   适用性的验证。 如果设置不适用于可扩展交换机，此验证将失败。 例如，定义外部网络服务级别协议 (SLA) 的策略配置文件不会应用到不有权访问外部网络接口的可扩展交换机。

-   冲突检测。 如果设置与已在相同端口设置其他设置发生冲突，则验证失败。

当此可扩展交换机扩展验证验证端口的端口和策略设置时，它必须遵循以下准则：

-   验证端口是临时的因为扩展不必须验证并将失败，无法当前满足的可扩展交换机的策略和配置设置。

    例如，可扩展交换机，它支持的带宽，当前月的 10 千兆字节的最多只能有 1 千兆比特的带宽可供预订。 该扩展不会失败的验证为其保留多个 1 千兆位的带宽的端口属性。 创建操作的端口时，而是应发生这种验证。 这是因为要验证的设置仍可应用于在其中的带宽是可用的操作端口。 这允许系统管理员进行初始配置的虚拟机而不受运行时约束。

-   该扩展不能分配或保留资源为验证端口。 例如，验证端口上的带宽保留设置应继续支持可扩展交换机的可用带宽。 仅在创建操作的端口时应保留。

有关操作的可扩展的交换机端口的详细信息，请参阅[操作端口](operational-ports.md)。

 

 





