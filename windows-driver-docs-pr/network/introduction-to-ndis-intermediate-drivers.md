---
title: 中间的 NDIS 驱动程序简介
description: 中间的 NDIS 驱动程序简介
ms.assetid: 63e1b34b-c59e-4aa9-9551-ac9ccb8bcc82
keywords:
- 中间驱动程序 WDK 网络，有关中间驱动程序
- NDIS 中间层驱动程序 WDK，有关中间驱动程序
- 堆栈 WDK 网络
- 内部绑定 WDK NDIS 中间
- 绑定 WDK NDIS 中间
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: f7c603d8e3d571e16c3f98580c0639435a4f4b64
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/31/2019
ms.locfileid: "56545370"
---
# <a name="introduction-to-ndis-intermediate-drivers"></a>中间的 NDIS 驱动程序简介





NDIS 驱动程序堆栈必须包括微型端口驱动程序和协议驱动程序，还可以包括中间驱动程序。 中间驱动程序是可选的因为寻址中间驱动程序之前必须了解微型端口驱动程序、 协议驱动程序和 NDIS 之间的关系。

微型端口驱动程序控制 NIC 设备和协议驱动程序的下边缘与进行通信。 协议驱动程序的方式实现协议，例如 TCP/IP 和驱动程序堆栈中的微型端口驱动程序之上。 NDIS 提供服务来简化开发和维护的微型端口驱动程序和协议驱动程序。

微型端口驱动程序、 协议驱动程序和 NDIS 之间的关系图所示。

![说明微型端口驱动程序、 协议驱动程序和 ndis 之间的关系的关系图 ](images/ndisdrvr.png)

通过标准的 NDIS 接口一起绑定的 NDIS 微型端口驱动程序和协议驱动程序。

中间的 NDIS 驱动程序包括使用协议的驱动程序接口位于其上边缘和在其下边缘的微型端口驱动程序接口。 中间驱动程序的协议接口允许它加载的驱动程序微型端口驱动程序接口有上方。 因此，中间驱动程序可以加载微型端口驱动程序或其他中间驱动程序的上方。 在中间驱动程序微型端口接口允许它加载的驱动程序有协议低 edge 接口的下方。 因此，中间驱动程序可以加载低于协议驱动程序或低于其他中间驱动程序。

微型端口驱动程序、 协议驱动程序、 中间驱动程序和 NDIS 之间的关系图所示。

![说明微型端口驱动程序、 协议驱动程序、 中间驱动程序和 ndis 之间的关系的关系图 ](images/intdriver.png)

中间驱动程序微型端口接口称为虚拟微型端口。 它是虚拟的因为它不直接控制物理设备。 相反，它依赖于基础微型端口驱动程序与物理设备进行通信。

中间驱动程序和其他驱动程序之间的绑定称为外部绑定。 NDIS 控制外部绑定。 虚拟微型端口的上边缘与下一个更高版本驱动程序，可以是协议驱动程序或另一个中间驱动程序将绑定。 中间驱动程序协议的下边缘将绑定到下一个较低驱动程序，它可以是另一个中间驱动程序或基础的微型端口驱动程序。

虚拟微型端口的下边缘和边缘中间的驱动程序协议不需要外部绑定。 相反，中间驱动程序及其虚拟微型端口和绑定其协议在内部。 NDIS 不受控制是特定于实现的这些内部绑定。

下图说明了虚拟微型端口和中间驱动程序协议之间的内部绑定。

![说明虚拟微型端口和中间驱动程序协议之间的内部绑定关系图](images/intbindings.png)

有两种类型的中间的 NDIS 驱动程序： 筛选中间驱动程序和 MUX 中间驱动程序。 以下主题介绍了这些驱动程序类型：

[NDIS 筛选器中间驱动程序](ndis-filter-intermediate-drivers.md)

[NDIS MUX 中间驱动程序](ndis-mux-intermediate-drivers.md)

 

 





