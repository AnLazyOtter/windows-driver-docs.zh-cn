---
title: 分配方案
description: 分配方案
ms.assetid: bd51205d-53e6-42d0-b5e3-36968acba3a3
keywords:
- 分配选项 WDK 内核流式处理
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 660886aa8d4fb96ffc7ab1dd619c632ef7047c0e
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/31/2019
ms.locfileid: "56534196"
---
# <a name="allocation-schemes"></a>分配方案





下图表示单个的分配器分配三个筛选器使用。 中的转换或接收器的筛选器不需要任何分配，因为系统尚未分配给这些筛选器的分配器的句柄。

![说明一个简单的分配器配置的关系图](images/ksart-10.png)

源筛选器分配一个帧，用数据填充并将其提交给下一个筛选器。 转换筛选器执行中放置数据转换，并将提交到下一个筛选器的帧。 接收器筛选器完成 I/O 操作，源筛选器释放或重复使用该框架。 流控制被保留此筛选器关系图中，可以从接收器分配器分配的总未完成的帧数以及的 I/O 操作完成率。

下图表示源框架路由到多个目标接收器的分配器配置。

![说明了多个接收器的分配器配置的关系图](images/ksart-11.png)

在关系图中，文件编写器无法表示波形输出到一个文件，并发送声卡的音频设备。

此筛选器图形包含两个分配器： transform 的分配器和设备的分配器。 源筛选器从转换分配器分配一个帧，用数据填充它，并将其提交到转换筛选器，再到文件编写器。 接收的帧时，转换筛选器从设备分配器分配一个帧、 执行数据转换将在新帧并提交到设备的此帧。

流控制被保留此筛选器关系图中，可以从分配器分配的总未完成的帧数以及的 I/O 操作完成率。 请注意，必须为每个单独的列表的源/接收器段通过连接插针创建单独的分配器。 如果单独分配器不存在，给定的段可能会占用所有可用，保留未使用任何可能需要一个或多个帧来处理上一个段创建的数据的下一段的帧。

 

 




