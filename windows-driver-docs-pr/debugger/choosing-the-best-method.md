---
title: 选择最佳方法
description: 选择最佳方法
ms.assetid: d6069c8c-1da1-4930-b75d-efcee9691e6b
ms.date: 11/28/2017
ms.localizationpriority: medium
ms.openlocfilehash: 435491675ec8952ff6652c7a7bd2a07226740517
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/31/2019
ms.locfileid: "56545923"
---
# <a name="choosing-the-best-method"></a>选择最佳方法


有几种不同的方法调试服务应用程序。 若要选择正确的方法，必须先将两个选项： 在时间调试器附加到服务应用程序和要使用哪些调试配置。

有三个阶段的调试器可以附加到服务应用程序：

-   服务启动的开头。 服务开始时，将自动启动调试器。 如果你想要调试服务的初始化代码，请选择此选项。

-   第一次服务遇到异常。 发生异常或崩溃时或在服务应用程序调用，将自动启动调试器**DebugBreak**函数。 如果您希望调试器显示时遇到问题，但不是在此之前，请选择此选项。

-   在服务正常运行。 您可以手动将调试器附加到已在任意时间运行的服务。 如果您不想要提前准备以进行调试，请选择此选项。

有三个可供选择的调试配置：

-   本地调试。 单个调试器，在作为服务在同一台计算机上运行。

-   远程调试。 作为服务，要控制在第二台计算机上运行的调试客户端从同一台计算机上运行的调试服务器。

-   内核控制的用户模式调试。 作为服务，正在从另一台计算机上的内核调试器控制在同一计算机上运行的用户模式下调试程序。

如果在 Windows 2000，Windows XP 或 Windows Server 2003 上运行你的服务，则可以组合使用其中的任何三个与任何调试配置选项这三个附加选项。

如果在 Windows Vista 或更高版本的 Windows 上运行你的服务，没有可以如何组合这些选择的一个限制。 如果你想要从服务启动时，开始调试，或从中遇到异常时，你必须使用远程调试或内核控制用户模式下调试。

换句话说，Windows Vista 及更高版本，不能使用本地调试，除非您计划手动附加调试器之后服务已在运行。 此限制会从这一事实，在这些版本的 Windows，在会话 0 中运行服务和任何调试器自动启动并附加到服务时也是在会话 0，并不具有该服务是在计算机上的用户界面上运行。

 

 





