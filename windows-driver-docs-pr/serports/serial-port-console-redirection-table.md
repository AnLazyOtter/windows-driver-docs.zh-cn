---
title: 串行端口控制台重定向表 (SPCR)
description: 串行端口控制台重定向表，用于指示串行端口或非传统式 UART 接口是否可用于与 Microsoft® Windows® 紧急管理服务 (EMS)。
ms.assetid: cbcd2e71-881a-44f6-b3d8-5d2aadb02b27
keywords:
- SPCR
- EMS UART
ms.date: 07/23/2018
ms.openlocfilehash: 83c9308876a244d511b6f2428b110f005bee7fe0
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/31/2019
ms.locfileid: "56575184"
---
# <a name="serial-port-console-redirection-table--spcr"></a>串行端口控制台重定向表 (SPCR)

本文档定义串行端口控制台重定向表的内容。 此表用于指示串行端口或非传统式 UART 接口是否可用于与 Microsoft® Windows® 紧急管理服务 (EMS)。

表提供了有关配置和使用情况的串行端口或非传统式 UART 接口的信息。 在其中的 BIOS 或系统固件用于串行端口控制台输入/输出系统中，应使用此表来传达信息有关的设置，以确保固件控制台输出和 Windows EMS 输出之间的无缝转换。

此表必须位于系统内存和其他 ACPI 表，并且它必须在 ACPI RSDT 表中引用。 

> 专利声明：Microsoft 使专利的某些权限可用于实现此规范下两个选项：
> 1)  Microsoft 的社区承诺，可在<http://www.microsoft.com/openspecifications/en/us/programs/community-promise/default.aspx>; 或
> 2)  打开 Web Foundation 最终规范协议版本 1.0 ("OWF 1.0") 自起 1，2012 年 10 月，可在 http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0。 


| **字段** | **字节长度** | **Byte Offset** | **说明** | 
|:--|:--|:--|:--|
| Header |  |  |  | 
|     签名 | 4 | 0 | SPCR。 串行端口控制台重定向表的签名。 | 
|     长度 | 4 | 4 | 长度，以字节为单位，整个的串行端口控制台重定向表。 | 
|     修订 | 1 | 8 | 2 | 
|     校验和 | 1 | 9 | 整个表的总和必须为零。 | 
|     OEMID | 6 | 10 | OEM ID。 | 
|     OEM 表 ID | 8 | 16 | 对于串行端口控制台重定向表，表 ID 是制造商模型 id。 | 
|     OEM 修订 | 4 | 24 | 提供的 OEM 表 id 的串行端口控制台重定向表 OEM 修订 | 
|    创建者 ID | 4 | 28 | 创建表的实用工具的供应商 ID。 对于 DSDT、 RSDT、 SSDT 和 PSDT 的表，这是 ASL Compiler 的 ID。 | 
|    创建者修订 | 4 | 32 | 创建了表的实用工具的修订。 对于 DSDT、 RSDT、 SSDT 和 PSDT 表中，这是 ASL Compiler 的修订版本。 | 
| 接口类型 | 1 | 36 | 指示注册接口的类型： <p> 修订版 1: </p> <ul><li>0 = 完整 16550 接口 </li><li>1 = 完整 16450 接口 （也必须接受写入 16550 FCR 寄存器） </li><li>2-255 = 保留 </li></ul><p>修订版 2: </p>请参阅表 3 的串行端口的子类型[DBG2 规范](https://go.microsoft.com/fwlink/p/?LinkId=234837) </p>| 
| 保留 | 3 | 37 | 必须为 0。 | 
| 基址 | 12 | 40|<p>串行端口的基址注册组介绍使用 ACPI 泛型地址结构。</p>0 = 禁用控制台重定向 <p>**注意：** <p>-将 COM1 (0x3F8): </p><p>整数形式：0x 01 08 00 00 00000000000003F8</p><p>查看在内存中：0x01080000F803000000000000</p><p>COM2 (Ox2F8) 将是： </p><p>整数形式：0x 01 08 00 00 00000000000002F8</p><p>查看在内存中：0x01080000F802000000000000 </p>|
| 中断类型 | 1 | 52 | 中断 UART 所使用的类型。 <p>位 [0] PC AT 兼容双 8259 IRQ 中断</p><p>[1] 位 APIC I/O 中断 （全局系统中断）</p><p>[2] 位 SAPIC I/O 中断 （全局系统中断）</p> (IRQ) <p>位 [3] ARMH GIC 中断 （全局系统中断）</p><p>位 [4:7] 保留 （必须是 0）</p><p>0 = 不受支持</p><p>1 = 支持</p><p>两个双 8259 和 I/O APIC 还是 I/O SAPIC 平台必须设置的 IRQ 位 （Bit[0]) 和相应的全局系统中断位）。 例如 支持 8259 的系统和 SAPIC 将是 5。 </p>|
|IRQ|1|53 | 由 UART PC AT 兼容 IRQ。<p>2-7、 9-12、 14 至 15 分别 = 有效的 Irq</p><p>0-1、 8、 13、 16-255 = 保留</p><p>设置中断类型字段 [0] 位才有效。</p> | 
|全局系统中断|4| 54| 全局系统中断 (GSIV) 由 UART。 如果位 [0] 是中断类型字段中设置的唯一位不有效。|
|波特率|1|58|使用重定向的 BIOS 波特率。 <ul><li>0 = 原样，直到将初始化完整的特色驱动程序，操作系统依赖于串行端口的当前配置。</li><li>3 = 9600</li><li>4 = 19200</li><li>6 = 57600</li><li>7 = 115200</li><li>1-2，5，8-255 = 保留</li></ul>|
| 奇偶校验|1 | 59 | <p>0 = 无奇偶校验</p><p>1-255 = 保留</p> | 
| 停止位|1 | 60 | <p>0 = 停止位</p><p>1-255 = 保留</p> | 
| 终端类型|1|62|BIOS 已使用控制台重定向的终端协议：<ul><li>0 = VT100</li><li>1 = VT100+</li><li>2 = VT-UTF8</li><li>3 = ANSI<li>4-255 = 保留 </li></ul>| 
| 保留 | 1 | 63 | 必须为 0 | 
| PCI 设备 ID | 2 | 64 | 如果不是 PCI 设备必须是 0xFFFF | 
| PCI 供应商 ID | 2 | 66 | 如果不是 PCI 设备必须是 0xFFFF | 
| PCI 总线数 | 1 | 68 | PCI 总线数，如果表描述了 PCI 设备<p>如果不是 PCI 设备必须是 0x00</p> | 
| PCI 设备数 | 1 | 69 | 如果表描述了 PCI 设备 PCI 槽数<p>如果不是 PCI 设备必须是 0x00</p>| 
| PCI 函数号 | 1 | 70 | 如果表描述了 PCI 设备 PCI 函数号<p>如果不是 PCI 设备必须是 0x00</p> | 
| PCI 标志 | 4 | 71 | PCI 兼容性标志的位掩码。  应为零，默认情况下。<ul><li>位 [0] = 操作系统不应取消显示即插即用设备枚举或禁用此设备的电源管理。 必须为 0，如果它不是 PCI 设备</li><li>1-31 位 = 保留，必须为零。</li></ul>| 
| PCI 段 | 1 | 75 | PCI 段数量。 <p>对于具有少于 255 个 PCI 总线系统中，此数字必须为 0。 <p>| 
| 保留 | 4 | 76 | 必须为 0 | 

## <a name="revision-history"></a>修订历史

| 日期      | rev  | 描述                                                                                                                 |
|:----------|:-----|:----------------------------------------------------------------------------------------------------------------------------|
| 2/15/00   | .10  | 创建时间                                                                                                                     |
| 3/1/00    | .50  | SPCR。 添加的签名数据                                                                                                |
| 3/20/00   | .55  | 数据进行了修订以包括端口和 irq                                                                                        |
| 3/22/00   | .56  | 阐明了的端口标识禁用重定向已添加功能。 添加了的指向泛型注册地址结构 |
| 3/23/00   | .56a | 格式设置、 免责声明，编辑副本                                                                                        |
| 4/24/00   | .6   | 在 web 上发布个 WinHEC                                                                                                    |
| 4/24/00   | .6   | 公共评审草稿发布                                                                                               |
| 5/25/00   | .61  | 更正到 BASE_ADDRESS 说明                                                                                      |
| 5/25/00   | .61  | 公共评审草稿发布                                                                                               |
| 5/31/00   | .7   | 对 BASE_ADDRESS 说明示例的更正。 添加了 16540 接口                                                      |
| 5/31/00   | .71  | 从下到更改 GRAS 功能的信息"\*"                                                                          |
| 5/31/00   | .71  | 公共评审草稿发布                                                                                               |
| 6/1/00    | .72  | 已更改为小字节序已添加文本到行尾的 GRAS COM 端口示例                                        |
| 7/12/00   | .75  | 固定的 IRQ 说明。 固定格式的各种问题添加 PCI 总线信息。                                               |
| 7/26/00   | .76  | 更新为 PCI 字段名称"设备号"。 要包括非传统式 UART 的已更改的引导性语言。                                |
| 8/10/00   | .77  | 添加 APIC 和 SAPIC 添加流控制的已更改的中断信息                                                    |
| 9/22/00   | .78  | 添加了的 PCI 段                                                                                                           |
| 10/25/00  | .80  | 固定的 PCI 标志部分。 已添加终端类型添加 16450 FCR 信息                                                          |
| 10/1/01   | .95  | 已删除的语言代码                                                                                                      |
| 1/11/02   | 1.00 | 添加到 1.00 更新授权规范                                                                                       |
| 3/12/14   | 1.01 | 根据 Microsoft Community 承诺发布                                                                                  |
| 6/2/14    | 1.02 | 更改为 2，并添加了支持其他接口类型，表修订，DBG2 规范中定义。         |
| 8/10/15   | 1.03 | 已更新的专利声明。                                                                                                      |
| 7/23/2018 | 1.04 |                                                                                                                             |

