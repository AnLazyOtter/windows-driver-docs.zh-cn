---
title: 访问掩码
description: 访问掩码
ms.assetid: eb379196-7a10-4d52-8b81-825550ebbbb0
keywords:
- 安全描述符 WDK 文件系统，访问掩码
- 描述符 WDK 文件系统，访问掩码
- 访问屏蔽 WDK 的文件系统
- 泛型权利 WDK 文件系统
- 标准权利 WDK 文件系统
- WDK 的特定权利文件系统
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 6cf59be7320a7296b13c365b03a4fbc225b0d0bd
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/23/2019
ms.locfileid: "63323180"
---
# <a name="access-mask"></a>访问掩码


## <span id="ddk_sec_access_mask_if"></span><span id="DDK_SEC_ACCESS_MASK_IF"></span>


访问掩码的函数是为了说明以压缩形式的访问权限。 若要简化访问管理，访问掩码包含一组四位*泛型权利*，这将通过使用函数转换成一组更详细的权限[ **RtlMapGenericMask**](https://msdn.microsoft.com/library/windows/hardware/ff562027).

下图说明了访问掩码。

![说明的访问掩码的关系图](images/fssecurity-03.png)

泛型权利是以下值之一：

-   泛型\_读取-读取由对象维护的信息的权限。

-   泛型\_编写 — 写入由对象维护的信息的权限。

-   泛型\_EXECUTE — 执行或或者深入的对象的权限。

-   泛型\_所有-读取、 写入和执行对象的权限。

请注意，可以组合这些权限 (泛型\_读取和泛型\_编写可以同时请求，例如) 与要求所需的每个通用的权限的权限的并集生成的映射。 这种范例模仿 UNIX"rwx"访问位用于控制 UNIX 资源的访问权限。 访问掩码中的泛型权限简化 Windows 上的应用程序开发，因为这些权限掩码各种对象类型的不同的安全权限。

以下设置的*标准权限*适用于所有对象类型：

-   删除-删除特定对象的权限。

-   读取\_控件 — 读取该对象的控制 （安全） 信息的权限。

-   编写\_DAC — 修改对象的控制 （安全） 信息的权限。

-   编写\_所有者-修改所有者的对象的 SID 的权限。 回想一下，所有者始终有权修改的对象。

-   同步-等待 （假设这该对象的有效概念） 在给定对象上的权限。

访问掩码的低 16 位表示特定的权限。 这些特定权限的含义是唯一的相关对象。 对于文件系统的主要兴趣是文件对象的特定权利。 文件对象的特定权限通常解释方式不同，取决于文件对象表示一个文件或目录。 对于文件，是正常的解释：

-   **文件\_读\_数据**— 从给定文件中读取数据的权限。

-   **文件\_编写\_数据**— 将数据写入到给定的文件 （在现有文件的范围） 的权限。

-   **文件\_追加\_数据**— 扩展给定的文件的权限。

-   **文件\_读\_EA**-读取该文件的扩展的属性的权限。

-   **文件\_编写\_EA**— 修改的扩展的属性的文件的权限。

-   **文件\_EXECUTE**— 本地执行给定的文件的权限。 执行远程共享上存储的文件需要读取的权限，因为该文件将读取从服务器中，但在客户端执行。

-   **文件\_读\_属性**-读取文件的属性信息的权限。

-   **文件\_编写\_属性**— 修改文件的属性信息的权限。

对于目录，请使用相同的位值，但它们的解释在以下情况下的某些不同：

-   **文件\_列表\_DIRECTORY**— 列出目录的内容的权限。

-   **文件\_添加\_文件**— 创建该目录中的新文件的权限。

-   **文件\_添加\_子目录**— 创建该目录中的新目录 （子目录） 的权限。

-   **文件\_读\_EA**-读取扩展的属性的给定目录的权限。

-   **文件\_编写\_EA**-写入扩展的属性的给定目录的权限。

-   **文件\_遍历**— 在目录中对象的访问权限。 该文件\_遍历访问权限，是不同于文件\_列表\_目录访问权限。 保存文件\_列表\_目录访问权限允许实体来获取目录，而该文件的内容列表\_遍历访问权限为实体授予访问该对象的权限。 无需文件的调用方\_列表\_目录访问权限无法打开文件，它知道已经存在，但将不能获取目录的内容的列表。

-   **文件\_删除\_子**— 删除文件或目录中的当前目录的权限。

-   **文件\_读\_属性**-读取目录的属性信息的权限。

-   **文件\_编写\_属性**-修改目录的属性信息的权限。

泛型权利文件对象的标准和特定权限的实际映射由 I/O 管理器定义。 可以通过文件系统使用来检索此映射[ **IoGetFileObjectGenericMapping**](https://msdn.microsoft.com/library/windows/hardware/ff549231)。 通常情况下，此映射完成期间 IRP\_MJ\_创建按之前调用文件系统 I/O 管理器进行处理。 但这可能会通过检查特定操作的安全性的文件系统 （例如专用 FSCTL 操作）。

 

 




